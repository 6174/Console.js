/*!
 * Name:    Console.js
 * Info:    A simple but useful extension for the JavaScript console with a stack trace and more.
 * Author:  Gabriel Nahmias (http://terrasoftlabs.com|gabriel@terrasoftlabs.com)
 * Version: 1.4
 */
(function(c){var a={options:{debug:{},stackTrace:{}},_utils:{}},b={debug:{alwaysShowURL:false,enabled:true,showInfo:true},stackTrace:{enabled:true,collapsed:true,ignoreDebugFuncs:true,spacing:false}};a.ver=a.version=1.4;function d(){for(var f=1;f<arguments.length;f++){for(var e in arguments[f]){if(arguments[f].hasOwnProperty(e)){arguments[0][e]=arguments[f][e]}}}return arguments[0]}d(a.options,b);if(!String.prototype.format){String.prototype.format=function(){var f=this.toString(),e=typeof arguments[0],e=(("string"==e||"number"==e)?arguments:arguments[0]);if(!arguments.length){return f}for(arg in e){f=f.replace(RegExp("\\{"+arg+"\\}","gi"),e[arg])}return f}}if(!String.prototype.times){String.prototype.times=function(){var g=this.toString(),e="",h=arguments[0];if(!arguments.length){return g}for(var f=0;f<h;f++){e+=g}return e}}a.debug=function(){if(a.options.debug.enabled){var p=((typeof arguments!=="undefined")?Array.prototype.slice.call(arguments,0):[]),n=navigator.userAgent,k={firefox:/firefox/gi.test(n),webkit:/webkit/gi.test(n)},l=a.stackTrace().split("\n"),s,g=((k.webkit)?3:2),i="color:black;",r="color:{0}; font-weight:bold;",e="";if(k.firefox){s=l[g].replace(/(.*):/,"$1@").split("@")}else{if(k.webkit){s=l[g].replace("at ","").replace(")","").replace(/( \()/gi,"@").replace(/(.*):(\d*):(\d*)/,"$1@$2@$3").split("@")}}if(a.options.debug.showInfo&&!a.options.stackTrace.enabled){var m=s[0].trim(),o=s[1].trim(),o=((!a.options.debug.alwaysShowURL&&c.location.href==o)?"this page":o),h=s[2].trim(),f;if(k.webkit){f=s[3].trim()}console.info("%cOn line %c{0}%c{1}%c{2}%c of %c{3}%c inside the %c{4}%c function:".format(h,((k.webkit)?", column ":""),((k.webkit)?f:""),o,m),i,r.format("red"),i,r.format("purple"),i,r.format("green"),i,r.format("blue"),i)}if(a.options.stackTrace.ignoreDebugFuncs){if(k.webkit){l.shift()}l.shift();l.shift()}e=l.join(((a.options.stackTrace.spacing)?"\n\n":"\n")).trim();trace=typeof trace!=="undefined"?trace:true;if(typeof console!=="undefined"){console.debug.apply(console,p);if(a.options.stackTrace.enabled){var j="color:red; font-weight: bold;",q="%c Stack Trace"+" ".times(70);if(a.options.stackTrace.collapsed){console.groupCollapsed(q,j)}else{console.group(q,j)}console.debug("%c"+e,"color: #666666; font-style: italic;");console.groupEnd()}}return true}return false};a.setOption;a.stackTrace=function(){var e=new Error();return e.stack};c.Console=a})(window);